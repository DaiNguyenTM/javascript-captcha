{"version":3,"file":"javascript-captcha.min.js","mappings":"CAeC,SAASA,GAER,IAAIC,EAAWD,EAAOC,SASlBC,EAAU,SAASC,GACrBA,EA+DF,SAA0BA,GACxB,IAAIC,EAAY,CAAC,EACjB,IAAK,IAAIC,KAAOF,EAAU,CACxB,IAAIG,EAAQH,EAASE,GACrBD,EAAUC,GAAOE,EAAQC,UAAUC,SAASH,EAC9C,CACA,OAAOF,CACT,CAtEaM,CAAiBP,GAsF9B,WACE,GAAsD,mBAA3CQ,uCAMT,MAAM,IAAIC,MALS,2WAOvB,CA7FEC,GAsEF,SAAsCV,GACpC,KAAMA,EAASW,eAAiBX,EAASY,oBAAsBZ,EAASa,aAStE,MAAM,IAAIJ,MARS,8XAUvB,CAjFEK,CAA6Bd,GAE7B,IAAIe,EAAkBP,uCAAuCR,GAC7De,EAAgBC,gBAXN,MAaVC,KAAKF,gBAAkBA,EACvBE,KAAKjB,SAAWiB,KAAKF,gBAAgBf,QACvC,EAEAD,EAAQmB,UAlBK,YAoBbnB,EAAQoB,UAAUC,eAAiB,WACjC,OAAOH,KAAKF,gBAAgBK,gBAC9B,EAEArB,EAAQoB,UAAUE,cAAgB,WAChCJ,KAAKF,gBAAgBM,eACvB,EAEAtB,EAAQoB,UAAUG,eAAiB,WACjC,IAAIX,EAAgBM,KAAKF,gBAAgBJ,cACrCY,EAyEN,SAAuBZ,GAUrB,IATA,IAAIa,EAAe,CACjB,mBAAqBb,EAAgB,KACrC,mBAAqBA,EAAgB,KACrC,qBAAuBA,EAAgB,KACvC,wBAA0BA,EAAgB,KAC1C,wBAA0BA,EAAgB,KAC1C,0BAA4BA,EAAgB,MAE1CY,EAAa,KACRE,EAAI,EAAGA,EAAID,EAAaE,OAAQD,IAAK,CAC5C,IAAIE,EAAWH,EAAaC,GACxBG,EAAU9B,EAAS+B,cAAcF,GACrC,GAAIC,EAAS,CACXL,EAAaK,EACb,KACF,CACF,CACA,OAAOL,CACT,CA5FmBO,CAAcnB,GAE/B,IAAKY,EAGH,MAAM,IAAId,MAAML,EAAQ2B,OAAOC,OAFZ,iHAEiCrB,IAGtDM,KAAKF,gBAAgBkB,SACnB,SAASC,GACPX,EAAWY,UAAYD,CACzB,IACA,SAASE,GACPb,EAAWY,UAAYC,CACzB,GAEJ,EAIA,IAAIhC,EAAU,CACZ2B,OAAQ,CACNC,OAAQ,WACN,IAAIK,EAAMC,UAAU,GACpB,IAAK,IAAIC,KAASD,UAAW,CAC3B,IAAIE,EAAQ,IAAIC,OAAO,OAASF,EAAQ,GAAK,MAAO,KACpDF,EAAMA,EAAIK,QAAQF,EAAOF,UAAUC,GACrC,CACA,OAAOF,CACT,GAEFhC,UAAW,CACTC,SAAU,SAASqC,GAEjB,OADQA,EAAMD,QAAQ,0DAA2D,GAEnF,IAgEJ7C,EAAOE,QAAUA,EACjBF,EAAO+C,sBANP,SAA+B5C,GAE7B,OADc,IAAID,EAAQC,EAE5B,CAKF,CA1IA,CA0IEH","sources":["webpack://javascript-captcha/./packaging/src_temp/es5_build_src/es5/captcha.js"],"sourcesContent":["/*\r\nCopyright Captcha, Inc. 2004-2023. All rights reserved.\r\n\r\nBotDetect, BotDetect CAPTCHA, Lanap, Lanap CAPTCHA, Lanap BotDetect, \r\nLanap BotDetect CAPTCHA, Lanapsoft, Lanapsoft CAPTCHA, \r\nLanapsoft BotDetect, Lanapsoft BotDetect CAPTCHA, and Lanap Software \r\nare trademarks of Captcha, Inc. All other product, brand, and company \r\nnames are mentioned for identification purposes only and are trademarks \r\nor registered trademarks of their respective owners.\r\n\r\nCaptcha, Inc. - formerly: Lanapsoft, Inc. / Lanap, Inc.\r\n*/\r\n\r\n// BotDetect CAPTCHA JavaScript Plugin -- ES5\r\n\r\n(function(window) {\r\n\r\n  var document = window.document;\r\n\r\n  /** plugin info */\r\n  var pluginInfo = {\r\n    releaseNo: '4.5.0-RC2',\r\n    pluginId: '205'\r\n  };\r\n\r\n  /** Captcha object */\r\n  var Captcha = function(settings) {\r\n    settings = sanitizeSettings(settings);\r\n    \r\n    executeRequiredCoreIncludeCheck();\r\n    executeRequiredSettingsCheck(settings);\r\n\r\n    var integrationCore = createJsCaptchaIntegrationCoreInstance(settings);\r\n    integrationCore.integrationType = pluginInfo.pluginId;\r\n\r\n    this.integrationCore = integrationCore;\r\n    this.settings = this.integrationCore.settings;\r\n  };\r\n\r\n  Captcha.releaseNo = pluginInfo.releaseNo;\r\n\r\n  Captcha.prototype.getCaptchaData = function() {\r\n    return this.integrationCore.getCaptchaData();\r\n  };\r\n\r\n  Captcha.prototype.reloadCaptcha = function() {\r\n    this.integrationCore.reloadCaptcha();\r\n  };\r\n\r\n  Captcha.prototype.displayCaptcha = function() {\r\n    var captchaFormId = this.integrationCore.captchaFormId;\r\n    var captchaTag = getCaptchaTag(captchaFormId);\r\n\r\n    if (!captchaTag) {\r\n      var errorMessage = 'Could not find captcha tag!\\n' +\r\n      'Please add <captcha captchaFormId=\"{0}\"></captcha> element in your HTML template.';\r\n      throw new Error(helpers.string.format(errorMessage, captchaFormId));\r\n    }\r\n\r\n    this.integrationCore.getHtml(\r\n      function(captchaHtml) {\r\n        captchaTag.innerHTML = captchaHtml;\r\n      },\r\n      function(errorMessage) {\r\n        captchaTag.innerHTML = errorMessage;\r\n      }\r\n    );\r\n  };\r\n  \r\n\r\n  /** helper functions */\r\n  var helpers = {\r\n    string: {\r\n      format: function() {\r\n        let str = arguments[0];\r\n        for (var index in arguments) {\r\n          var regex = new RegExp(\"\\\\{\" + (index - 1) + \"\\\\}\", \"g\");\r\n          str = str.replace(regex, arguments[index]);\r\n        }\r\n        return str;\r\n      }\r\n    },\r\n    sanitizer: {\r\n      sanitize: function(input) {\r\n        input = input.replace(/[^a-zA-Z0-9\\.\\-\\_\\~\\!\\$\\&\\(\\)\\*\\+\\,\\;\\=\\:\\@\\%\\#\\/\\?]/gim, '');\r\n        return input;\r\n      }\r\n    }\r\n  };\r\n\r\n  function sanitizeSettings(settings) {\r\n    var sanitized = {};\r\n    for (var key in settings) {\r\n      var value = settings[key];\r\n      sanitized[key] = helpers.sanitizer.sanitize(value);\r\n    }\r\n    return sanitized;\r\n  }\r\n  \r\n  function executeRequiredSettingsCheck(settings) {\r\n    if (!(settings.captchaFormId && settings.captchaEndpointUrl && settings.languageTag)) {\r\n      var errorMessage = 'Invalid captcha settings!\\n' +\r\n      'The JavaScript Captcha Plugin requires the three \"captchaFormId\", \"captchaEndpointUrl\", and \"languageTag\" properties to be set.\\n' +\r\n      'For example:\\n' +\r\n      'var captcha = createCaptchaInstance({\\n' +\r\n      '  captchaFormId: \\'your_form\\',\\n' +\r\n      '  languageTag: \\'en-US\\',\\n' +\r\n      '  captchaEndpointUrl: \\'https://your-app-backend-hostname.your-domain.com/simple-captcha-endpoint-url\\'\\n' +\r\n      '});\\n';\r\n      throw new Error(errorMessage);\r\n    }\r\n  }\r\n\r\n  function executeRequiredCoreIncludeCheck() {\r\n    if (typeof createJsCaptchaIntegrationCoreInstance !== 'function') {\r\n      var errorMessage = 'The JavaScript Captcha Plugin requires the \"js-captcha-integration-core\" ' +\r\n      'to be included in your web page.\\n' + \r\n      'Please ensure that you have the following included in your web page:\\n' +\r\n      '<script src=\"node_modules/javascript-captcha/es5/js-captcha-integration-core.min.js\"></script>\\n' +\r\n      '<script src=\"node_modules/javascript-captcha/es5/javascript-captcha.min.js\"></script>';\r\n      throw new Error(errorMessage);\r\n    }\r\n  }\r\n\r\n  function getCaptchaTag(captchaFormId) {\r\n    var tagSelectors = [\r\n      '[captchaformid=\"' + captchaFormId + '\"]',\r\n      '[captchaFormId=\"' + captchaFormId + '\"]',\r\n      '[captcha-form-id=\"' + captchaFormId + '\"]',\r\n      '[data-captchaformid=\"' + captchaFormId + '\"]',\r\n      '[data-captchaFormId=\"' + captchaFormId + '\"]',\r\n      '[data-captcha-form-id=\"' + captchaFormId + '\"]',\r\n    ];\r\n    var captchaTag = null;\r\n    for (var i = 0; i < tagSelectors.length; i++) {\r\n      var selector = tagSelectors[i];\r\n      var element = document.querySelector(selector);\r\n      if (element) {\r\n        captchaTag = element;\r\n        break;\r\n      }\r\n    }\r\n    return captchaTag;\r\n  }\r\n\r\n  function createCaptchaInstance(settings) {\r\n    var captcha = new Captcha(settings);\r\n    return captcha;\r\n  }\r\n\r\n  window.Captcha = Captcha;\r\n  window.createCaptchaInstance = createCaptchaInstance;\r\n\r\n}(window));\r\n"],"names":["window","document","Captcha","settings","sanitized","key","value","helpers","sanitizer","sanitize","sanitizeSettings","createJsCaptchaIntegrationCoreInstance","Error","executeRequiredCoreIncludeCheck","captchaFormId","captchaEndpointUrl","languageTag","executeRequiredSettingsCheck","integrationCore","integrationType","this","releaseNo","prototype","getCaptchaData","reloadCaptcha","displayCaptcha","captchaTag","tagSelectors","i","length","selector","element","querySelector","getCaptchaTag","string","format","getHtml","captchaHtml","innerHTML","errorMessage","str","arguments","index","regex","RegExp","replace","input","createCaptchaInstance"],"sourceRoot":""}